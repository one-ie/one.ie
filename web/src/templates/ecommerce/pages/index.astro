---
import Layout from '../../../layouts/Layout.astro';
import { Button } from '@/components/ui/button';
import {
  Card,
  CardHeader,
  CardTitle,
  CardDescription,
  CardContent,
} from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { products } from '../lib/products';
import type { Product } from '../lib/types';
import { ShoppingBag, TruckIcon, RefreshCcw, ShieldCheck, Star } from 'lucide-react';

// Get featured products (new arrivals and sale items)
const newArrivals = products.filter((p: Product) => p.isNew).slice(0, 4);
const saleItems = products.filter((p: Product) => p.isSale).slice(0, 4);
---

<Layout title="Sho's Shop - Premium Streetwear & Contemporary Fashion">
  <!-- Hero Section -->
  <section
    class="relative min-h-[90vh] flex items-center justify-center overflow-hidden"
  >
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0">
      <img
        src="https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?w=1920&h=1080&fit=crop&q=80"
        alt="Fashion collection"
        class="w-full h-full object-cover brightness-[0.7]"
      />
      <div class="absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-background"></div>
    </div>

    <!-- Content -->
    <div class="relative z-10 w-full max-w-7xl mx-auto px-4 py-20 sm:px-6 lg:px-8">
      <div class="text-center space-y-10">
        <!-- Brand Badge -->
        <div class="space-y-8 animate-fade-in">
          <Badge variant="outline" className="text-sm font-semibold uppercase tracking-wider px-6 py-2 bg-background/80 backdrop-blur border-primary/30">
            Premium Fashion
          </Badge>

          <!-- Hero Heading -->
          <h1
            class="text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold !leading-[1.1] tracking-tight text-white drop-shadow-2xl"
          >
            Welcome to<br />Sho's Shop
          </h1>
          <p
            class="text-lg sm:text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed drop-shadow-lg"
          >
            Curated collections of premium streetwear and contemporary fashion.
            Elevate your wardrobe with timeless pieces.
          </p>
        </div>

        <!-- CTA Buttons -->
        <div
          class="flex flex-col sm:flex-row gap-4 justify-center items-center mt-16"
        >
          <a href="/shop">
            <Button size="lg" className="h-14 px-10 text-lg font-semibold shadow-2xl hover:scale-105 transition-transform">
              <ShoppingBag className="mr-2 h-5 w-5" />
              Shop Now
            </Button>
          </a>
          <a href="/shop?filter=new">
            <Button
              variant="outline"
              size="lg"
              className="h-14 px-10 text-lg font-semibold bg-white/90 hover:bg-white border-2 hover:scale-105 transition-transform"
            >
              New Arrivals
            </Button>
          </a>
        </div>

        <!-- Trust Indicators -->
        <div class="flex flex-wrap items-center justify-center gap-6 sm:gap-8 pt-12 text-sm text-white/80">
          <span class="flex items-center gap-2 bg-black/30 backdrop-blur px-4 py-2 rounded-full">
            <Star className="h-4 w-4 fill-yellow-400 text-yellow-400" />
            <span class="font-medium">4.9/5 from 2,000+ reviews</span>
          </span>
          <span class="flex items-center gap-2 bg-black/30 backdrop-blur px-4 py-2 rounded-full">
            <TruckIcon className="h-4 w-4" />
            <span class="font-medium">Free shipping over $100</span>
          </span>
          <span class="flex items-center gap-2 bg-black/30 backdrop-blur px-4 py-2 rounded-full">
            <RefreshCcw className="h-4 w-4" />
            <span class="font-medium">30-day returns</span>
          </span>
        </div>
      </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-10 animate-bounce">
      <div class="w-6 h-10 border-2 border-white/50 rounded-full flex items-start justify-center p-2">
        <div class="w-1.5 h-3 bg-white/70 rounded-full"></div>
      </div>
    </div>
  </section>

  <!-- New Arrivals Section -->
  <section class="px-4 py-20 sm:px-6 sm:py-24 md:px-8 md:py-32 bg-muted/30">
    <div class="mx-auto max-w-7xl">
      <div class="mb-16 space-y-4 text-center">
        <h2 class="text-4xl font-bold leading-tight tracking-tight sm:text-5xl">
          New Arrivals
        </h2>
        <p class="text-lg text-muted-foreground">
          Fresh styles just dropped. Be the first to wear them.
        </p>
      </div>

      <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-4">
        {
          newArrivals.map((product: Product) => (
            <a href={`/product/${product.id}`}>
              <Card className="group overflow-hidden border-border/50 bg-card/50 backdrop-blur transition-all hover:scale-[1.02] hover:border-primary/20 hover:bg-card hover:shadow-lg hover:shadow-primary/5">
                <div class="aspect-square overflow-hidden">
                  <img
                    src={product.images[0]}
                    alt={product.name}
                    class="h-full w-full object-cover transition-transform group-hover:scale-110"
                    loading="lazy"
                  />
                </div>
                <CardHeader className="space-y-2">
                  <div class="flex items-start justify-between">
                    <CardTitle className="text-lg line-clamp-1">
                      {product.name}
                    </CardTitle>
                    {product.isNew && (
                      <Badge variant="secondary" className="text-xs">
                        New
                      </Badge>
                    )}
                  </div>
                  <CardDescription className="line-clamp-2">
                    {product.description}
                  </CardDescription>
                  <div class="pt-2">
                    <span class="text-2xl font-bold">${product.price}</span>
                  </div>
                </CardHeader>
              </Card>
            </a>
          ))
        }
      </div>

      <div class="mt-12 text-center">
        <a href="/shop?filter=new">
          <Button size="lg" variant="outline">
            View All New Arrivals
          </Button>
        </a>
      </div>
    </div>
  </section>

  <!-- Sale Section -->
  <section class="px-4 py-20 sm:px-6 sm:py-24 md:px-8 md:py-32">
    <div class="mx-auto max-w-7xl">
      <div class="mb-16 space-y-4 text-center">
        <Badge variant="destructive" className="text-sm font-semibold px-4 py-2">
          Limited Time Offer
        </Badge>
        <h2 class="text-4xl font-bold leading-tight tracking-tight sm:text-5xl">
          Summer Sale
          <br />
          <span class="text-muted-foreground">Up to 40% Off</span>
        </h2>
        <p class="text-lg text-muted-foreground">
          Don't miss out on these incredible deals. While stocks last.
        </p>
      </div>

      <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-4">
        {
          saleItems.map((product: Product) => (
            <a href={`/product/${product.id}`}>
              <Card className="group overflow-hidden border-border/50 bg-card/50 backdrop-blur transition-all hover:scale-[1.02] hover:border-primary/20 hover:bg-card hover:shadow-lg hover:shadow-primary/5">
                <div class="aspect-square overflow-hidden relative">
                  <img
                    src={product.images[0]}
                    alt={product.name}
                    class="h-full w-full object-cover transition-transform group-hover:scale-110"
                    loading="lazy"
                  />
                  {product.isSale && (
                    <Badge variant="destructive" className="absolute top-4 right-4">
                      Sale
                    </Badge>
                  )}
                </div>
                <CardHeader className="space-y-2">
                  <CardTitle className="text-lg line-clamp-1">
                    {product.name}
                  </CardTitle>
                  <CardDescription className="line-clamp-2">
                    {product.description}
                  </CardDescription>
                  <div class="flex items-center gap-3 pt-2">
                    {product.salePrice ? (
                      <>
                        <span class="text-2xl font-bold text-destructive">
                          ${product.salePrice}
                        </span>
                        <span class="text-lg text-muted-foreground line-through">
                          ${product.price}
                        </span>
                      </>
                    ) : (
                      <span class="text-2xl font-bold">${product.price}</span>
                    )}
                  </div>
                </CardHeader>
              </Card>
            </a>
          ))
        }
      </div>

      <div class="mt-12 text-center">
        <a href="/shop?filter=sale">
          <Button size="lg">Shop All Sale Items</Button>
        </a>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="border-y bg-muted/50 px-4 py-20 sm:px-6 sm:py-24 md:px-8 md:py-32">
    <div class="mx-auto max-w-7xl">
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-4">
        <Card className="border-border/50 bg-card/50 backdrop-blur text-center">
          <CardHeader className="space-y-4">
            <div class="mx-auto flex h-14 w-14 items-center justify-center rounded-lg bg-primary/10">
              <TruckIcon className="h-7 w-7 text-primary" />
            </div>
            <CardTitle className="text-xl">Free Shipping</CardTitle>
            <CardDescription className="leading-relaxed">
              Free delivery on all orders over $100. Fast and reliable.
            </CardDescription>
          </CardHeader>
        </Card>

        <Card className="border-border/50 bg-card/50 backdrop-blur text-center">
          <CardHeader className="space-y-4">
            <div class="mx-auto flex h-14 w-14 items-center justify-center rounded-lg bg-primary/10">
              <RefreshCcw className="h-7 w-7 text-primary" />
            </div>
            <CardTitle className="text-xl">Easy Returns</CardTitle>
            <CardDescription className="leading-relaxed">
              30-day return policy. No questions asked, hassle-free process.
            </CardDescription>
          </CardHeader>
        </Card>

        <Card className="border-border/50 bg-card/50 backdrop-blur text-center">
          <CardHeader className="space-y-4">
            <div class="mx-auto flex h-14 w-14 items-center justify-center rounded-lg bg-primary/10">
              <ShieldCheck className="h-7 w-7 text-primary" />
            </div>
            <CardTitle className="text-xl">Secure Payment</CardTitle>
            <CardDescription className="leading-relaxed">
              Your payment information is safe with 256-bit SSL encryption.
            </CardDescription>
          </CardHeader>
        </Card>

        <Card className="border-border/50 bg-card/50 backdrop-blur text-center">
          <CardHeader className="space-y-4">
            <div class="mx-auto flex h-14 w-14 items-center justify-center rounded-lg bg-primary/10">
              <Star className="h-7 w-7 text-primary" />
            </div>
            <CardTitle className="text-xl">Premium Quality</CardTitle>
            <CardDescription className="leading-relaxed">
              Curated selection of high-quality materials and craftsmanship.
            </CardDescription>
          </CardHeader>
        </Card>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="relative overflow-hidden px-4 py-24 sm:px-6 sm:py-32 md:px-8 md:py-40">
    <div class="absolute inset-0 -z-10">
      <div class="absolute inset-0 bg-gradient-to-b from-background via-primary/10 to-background"></div>
    </div>

    <div class="mx-auto max-w-4xl space-y-12 text-center">
      <div class="space-y-8">
        <h2 class="text-5xl font-bold leading-[1.1] tracking-tight sm:text-6xl md:text-7xl">
          <span class="block">Discover Your</span>
          <span class="block bg-gradient-to-r from-primary via-primary/80 to-primary/60 bg-clip-text text-transparent">
            Perfect Style
          </span>
        </h2>

        <p class="mx-auto max-w-2xl text-xl sm:text-2xl leading-relaxed text-muted-foreground">
          Join thousands of satisfied customers. Shop the latest trends in premium fashion.
        </p>
      </div>

      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="/shop">
          <Button size="lg" className="h-16 w-full sm:w-auto px-12 text-lg font-bold shadow-2xl shadow-primary/30">
            <ShoppingBag className="mr-3 h-6 w-6" />
            <span>Start Shopping</span>
          </Button>
        </a>
        <a href="/shop?filter=sale">
          <Button variant="outline" size="lg" className="h-16 w-full sm:w-auto px-12 text-lg font-bold border-2">
            <span>View Sale Items</span>
          </Button>
        </a>
      </div>
    </div>
  </section>
</Layout>
