---
/**
 * Template Versions Page
 *
 * Cycle 60: Complete template versioning management.
 *
 * Features:
 * - Version history timeline
 * - Create new versions
 * - Version comparison
 * - Rollback functionality
 * - Changelog display
 *
 * @see /one/things/plans/clickfunnels-builder-100-cycles.md
 */

import Layout from "@/layouts/Layout.astro";
import { TemplateVersionHistory } from "@/components/features/funnels/templates/TemplateVersionHistory";
import { CreateVersionDialog } from "@/components/features/funnels/templates/CreateVersionDialog";

const title = "Template Versions";
const description = "Manage template versions with complete history and rollback support";

// Get template ID from URL params
const { id } = Astro.params;
---

<Layout title={title} description={description}>
	<div class="container mx-auto py-8 px-4 max-w-6xl">
		<!-- Header -->
		<div class="mb-8">
			<div class="flex items-center justify-between">
				<div>
					<h1 class="text-4xl font-bold mb-2">Template Versions</h1>
					<p class="text-muted-foreground">
						Track changes, create versions, and rollback when needed
					</p>
				</div>
				<CreateVersionDialog
					client:load
					templateId={id}
				/>
			</div>
		</div>

		<!-- Version History -->
		<TemplateVersionHistory
			client:load
			templateId={id}
		/>
	</div>
</Layout>

<style>
	/* Custom styles for version timeline */
	:global(.version-timeline) {
		position: relative;
	}
</style>
