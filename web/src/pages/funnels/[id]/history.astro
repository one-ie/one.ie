---
/**
 * Funnel Version History Page
 *
 * Displays complete change history for a funnel using EventTimeline component.
 * Shows: Created, Updated, Published, Duplicated, Archived events.
 *
 * Part of Cycle 37: Create Funnel Version History
 * @see /one/things/plans/clickfunnels-builder-100-cycles.md
 */

import Layout from '@/layouts/Layout.astro';
import { FunnelHistoryClient } from '@/components/features/funnels/FunnelHistoryClient';

const { id } = Astro.params;

if (!id) {
  return Astro.redirect('/funnels');
}

const title = 'Funnel History';
const description = 'View complete change history and version timeline';
---

<Layout title={title} description={description}>
  <div class="container mx-auto px-4 py-8">
    <!-- Page Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold mb-2">Version History</h1>
      <p class="text-muted-foreground">
        Track all changes, updates, and versions of this funnel
      </p>
    </div>

    <!-- History Timeline (client-side for real-time updates) -->
    <FunnelHistoryClient client:load funnelId={id} />
  </div>
</Layout>
