---
import ShopLayout from '@/layouts/ShopLayout.astro';
import { ProductGallery } from '@/components/ecommerce/interactive/ProductGallery';
import { ProductHeader } from '@/components/shop/ProductHeader';
import { UrgencyMechanics } from '@/components/shop/UrgencyMechanics';
import { ValueStack } from '@/components/shop/ValueStack';
import { FAQ } from '@/components/shop/FAQ';
import { ExitIntentPopup } from '@/components/shop/ExitIntentPopup';

const productImages = [
  'https://cdn.dummyjson.com/product-images/fragrances/chanel-coco-noir-eau-de/1.webp',
  'https://cdn.dummyjson.com/product-images/fragrances/chanel-coco-noir-eau-de/2.webp',
  'https://cdn.dummyjson.com/product-images/fragrances/chanel-coco-noir-eau-de/3.webp',
];
---

<ShopLayout title="Chanel Coco Noir Eau de Parfum - Luxury Fragrance">
  <div class="bg-white dark:bg-black text-black dark:text-white">
    <!-- Header -->
    <ProductHeader client:load />

    <!-- Urgency Mechanics (Fixed Position) -->
    <UrgencyMechanics client:load />

    <!-- Exit Intent Popup -->
    <ExitIntentPopup client:idle />
    <!-- Hero Section -->
    <section id="hero" class="relative h-screen flex items-center justify-center overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-b from-white/0 via-white/0 to-white/20 dark:from-black/0 dark:via-black/0 dark:to-black/40"></div>

      <div class="relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-start max-w-7xl mx-auto px-6 py-24">
        <!-- Product Gallery -->
        <div class="flex items-start justify-center lg:sticky lg:top-24">
          <ProductGallery client:load images={productImages} productName="Chanel Coco Noir Eau de Parfum" />
        </div>

        <!-- Product Info -->
        <div class="space-y-8 lg:pr-12">
          <div class="space-y-4">
            <div class="text-sm font-semibold tracking-wide text-gray-500 dark:text-gray-400">CHANEL</div>
            <h1 class="text-5xl lg:text-6xl font-black leading-tight tracking-tight">
              Coco Noir Eau de Parfum
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-300 font-light leading-relaxed">
              Elegant and mysterious. Coco Noir captures the essence of timeless sophistication with notes of grapefruit, rose, and sandalwood. A fragrance for the modern woman who embraces mystery.
            </p>
          </div>

          <!-- Price -->
          <div class="pt-4">
            <div class="flex items-baseline gap-3">
              <div class="text-5xl font-black">$129.99</div>
              <div class="text-lg text-gray-500 line-through">$155.99</div>
            </div>
            <p class="text-sm text-green-600 dark:text-green-400 mt-2 font-semibold">Save $26 (16.51% off)</p>
          </div>

          <!-- Key Features -->
          <div class="grid grid-cols-2 gap-6 pt-8 border-t border-gray-200 dark:border-gray-800">
            <div>
              <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Top Notes</p>
              <p class="text-lg font-semibold">Grapefruit</p>
            </div>
            <div>
              <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Heart Notes</p>
              <p class="text-lg font-semibold">Rose & Jasmine</p>
            </div>
            <div>
              <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Base Notes</p>
              <p class="text-lg font-semibold">Sandalwood</p>
            </div>
            <div>
              <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Rating</p>
              <p class="text-lg font-semibold">★ 4.26/5</p>
            </div>
          </div>

          <!-- CTA Button -->
          <div class="pt-8">
            <button class="w-full bg-black dark:bg-white text-white dark:text-black py-4 rounded-full text-lg font-semibold tracking-wide hover:opacity-80 transition-opacity duration-300 active:scale-95">
              Buy Now
            </button>
            <p class="text-center text-xs text-gray-500 dark:text-gray-400 mt-4">
              Overnight shipping • 90-day returns • 3-year warranty
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="max-w-7xl mx-auto px-6 py-24 border-t border-gray-200 dark:border-gray-800">
      <div class="grid md:grid-cols-2 gap-20">
        <div>
          <h2 class="text-4xl font-black mb-8 tracking-tight">Mystery in a bottle.</h2>
          <p class="text-lg text-gray-600 dark:text-gray-300 font-light leading-relaxed mb-6">
            Coco Noir is an ode to femininity and mystery. Inspired by the legendary Coco Chanel herself, this fragrance blends dark, intoxicating notes of grapefruit with delicate florals and a sensual sandalwood base.
          </p>
          <p class="text-lg text-gray-600 dark:text-gray-300 font-light leading-relaxed">
            Each spritz reveals layers of sophistication—perfect for evening wear or whenever you want to make an unforgettable impression.
          </p>
        </div>

        <div class="space-y-8">
          <div>
            <h3 class="text-2xl font-black mb-4">Signature Scent Profile</h3>
            <p class="text-gray-600 dark:text-gray-300 font-light">
              A perfect balance of citrus brightness, floral elegance, and woody warmth that evolves throughout the day.
            </p>
          </div>
          <div>
            <h3 class="text-2xl font-black mb-4">Iconic Bottle Design</h3>
            <p class="text-gray-600 dark:text-gray-300 font-light">
              The sleek, minimalist black bottle reflects the fragrance's mysterious and sophisticated character—pure luxury.
            </p>
          </div>
          <div>
            <h3 class="text-2xl font-black mb-4">Lasting Luxury</h3>
            <p class="text-gray-600 dark:text-gray-300 font-light">
              Long-lasting formula ensures your signature scent lingers all day and into the evening.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Specifications -->
    <section id="details" class="max-w-7xl mx-auto px-6 py-24 border-t border-gray-200 dark:border-gray-800">
      <h2 class="text-4xl font-black mb-12 tracking-tight">Fragrance Details</h2>

      <div class="grid md:grid-cols-2 gap-8">
        <div class="space-y-6">
          <div class="pb-6 border-b border-gray-200 dark:border-gray-800">
            <p class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Fragrance Type</p>
            <p class="text-lg">Eau de Parfum</p>
          </div>
          <div class="pb-6 border-b border-gray-200 dark:border-gray-800">
            <p class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Brand</p>
            <p class="text-lg">Chanel</p>
          </div>
          <div class="pb-6 border-b border-gray-200 dark:border-gray-800">
            <p class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Top Notes</p>
            <p class="text-lg">Grapefruit</p>
          </div>
        </div>

        <div class="space-y-6">
          <div class="pb-6 border-b border-gray-200 dark:border-gray-800">
            <p class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Heart Notes</p>
            <p class="text-lg">Rose & Jasmine</p>
          </div>
          <div class="pb-6 border-b border-gray-200 dark:border-gray-800">
            <p class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Base Notes</p>
            <p class="text-lg">Sandalwood</p>
          </div>
          <div class="pb-6 border-b border-gray-200 dark:border-gray-800">
            <p class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Rating</p>
            <p class="text-lg">★★★★☆ 4.26/5</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Reviews Section -->
    <section id="reviews" class="max-w-7xl mx-auto px-6 py-24 border-t border-gray-200 dark:border-gray-800">
      <h2 class="text-4xl font-black mb-12 tracking-tight">What customers say</h2>

      <div class="grid md:grid-cols-3 gap-8">
        <div class="space-y-4">
          <div class="flex gap-1">
            {[...Array(5)].map(() => (
              <span class="text-2xl">★</span>
            ))}
          </div>
          <p class="text-lg font-light leading-relaxed">
            "An absolute masterpiece. The craftsmanship is exceptional and the design is truly timeless."
          </p>
          <p class="text-sm font-semibold">— Jennifer K.</p>
        </div>

        <div class="space-y-4">
          <div class="flex gap-1">
            {[...Array(5)].map(() => (
              <span class="text-2xl">★</span>
            ))}
          </div>
          <p class="text-lg font-light leading-relaxed">
            "Worth every penny. The quality is unmatched and it arrived beautifully packaged."
          </p>
          <p class="text-sm font-semibold">— Michael R.</p>
        </div>

        <div class="space-y-4">
          <div class="flex gap-1">
            {[...Array(5)].map(() => (
              <span class="text-2xl">★</span>
            ))}
          </div>
          <p class="text-lg font-light leading-relaxed">
            "A stunning piece that gets compliments everywhere I go. Highly recommend!"
          </p>
          <p class="text-sm font-semibold">— Sarah M.</p>
        </div>
      </div>
    </section>

    <!-- Value Stack Section -->
    <ValueStack client:load />

    <!-- FAQ Section -->
    <FAQ client:load />

    <!-- Bottom CTA -->
    <section class="max-w-7xl mx-auto px-6 py-24 border-t border-gray-200 dark:border-gray-800">
      <div class="text-center space-y-8">
        <h2 class="text-5xl font-black tracking-tight">Ready to embrace mystery?</h2>
        <p class="text-xl text-gray-600 dark:text-gray-300 font-light max-w-2xl mx-auto">
          Discover the allure of Coco Noir. A fragrance for the sophisticated woman who knows her power.
        </p>
        <button class="bg-black dark:bg-white text-white dark:text-black px-12 py-4 rounded-full text-lg font-semibold tracking-wide hover:opacity-80 transition-opacity duration-300 active:scale-95">
          Buy Now
        </button>
      </div>
    </section>

    <!-- Product Gallery Section -->
    <section id="gallery" class="max-w-7xl mx-auto px-6 py-24 border-t border-gray-200 dark:border-gray-800">
      <h2 class="text-5xl font-black mb-20 tracking-tight text-center">Gallery</h2>

      <!-- Large hero image -->
      <div class="mb-20">
        <div class="relative w-full aspect-video max-w-4xl mx-auto">
          <img
            src="https://cdn.dummyjson.com/product-images/fragrances/chanel-coco-noir-eau-de/1.webp"
            alt="Chanel Coco Noir - Main View"
            class="w-full h-full object-contain filter drop-shadow-2xl"
          />
        </div>
      </div>

      <!-- Detail shots grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-20">
        <div class="relative w-full aspect-square">
          <img
            src="https://cdn.dummyjson.com/product-images/fragrances/chanel-coco-noir-eau-de/2.webp"
            alt="Bottle Front"
            class="w-full h-full object-contain filter drop-shadow-xl rounded-lg"
          />
          <p class="text-center mt-4 font-semibold text-gray-600 dark:text-gray-300">Iconic Black Bottle</p>
        </div>
        <div class="relative w-full aspect-square">
          <img
            src="https://cdn.dummyjson.com/product-images/fragrances/chanel-coco-noir-eau-de/3.webp"
            alt="Bottle Detail"
            class="w-full h-full object-contain filter drop-shadow-xl rounded-lg"
          />
          <p class="text-center mt-4 font-semibold text-gray-600 dark:text-gray-300">Luxurious Packaging</p>
        </div>
      </div>

      <!-- Three column showcase -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="relative w-full aspect-square">
          <img
            src="https://cdn.dummyjson.com/product-images/fragrances/chanel-coco-noir-eau-de/1.webp"
            alt="Front View"
            class="w-full h-full object-contain filter drop-shadow-lg rounded-lg"
          />
          <p class="text-center mt-4 font-semibold text-gray-600 dark:text-gray-300">Front View</p>
        </div>
        <div class="relative w-full aspect-square">
          <img
            src="https://cdn.dummyjson.com/product-images/fragrances/chanel-coco-noir-eau-de/2.webp"
            alt="Side Profile"
            class="w-full h-full object-contain filter drop-shadow-lg rounded-lg"
          />
          <p class="text-center mt-4 font-semibold text-gray-600 dark:text-gray-300">Side Profile</p>
        </div>
        <div class="relative w-full aspect-square">
          <img
            src="https://cdn.dummyjson.com/product-images/fragrances/chanel-coco-noir-eau-de/3.webp"
            alt="Detail Shot"
            class="w-full h-full object-contain filter drop-shadow-lg rounded-lg"
          />
          <p class="text-center mt-4 font-semibold text-gray-600 dark:text-gray-300">Detail Shot</p>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-gray-200 dark:border-gray-800 py-12">
      <div class="max-w-7xl mx-auto px-6 text-center">
        <p class="text-sm text-gray-500 dark:text-gray-400">
          Free shipping worldwide • 30-day returns • Lifetime warranty
        </p>
      </div>
    </footer>
  </div>
</ShopLayout>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  * {
    animation: fade-in 0.6s ease-out;
  }
</style>
