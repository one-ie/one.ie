---
import { Button } from "@/components/ui/button";
import type { CTASectionProps } from "@/types/landing-page";

interface Props extends Omit<CTASectionProps, "branding"> {
  branding?: any;
}

const { section, branding } = Astro.props;

// Generate background styling
let backgroundStyle = "";
if (section.backgroundImage) {
  backgroundStyle = `background-image: url('${section.backgroundImage}'); background-size: cover; background-position: center;`;
}

const containerClass = `relative overflow-hidden px-4 py-20 sm:px-6 sm:py-24 md:px-8 md:py-32 ${section.customClass || ""}`;
---

<section class={containerClass} style={backgroundStyle}>
  <!-- Background overlay if using image -->
  {
    section.backgroundImage && (
      <div class="absolute inset-0 -z-10 bg-black/40"></div>
    )
  }

  <!-- Default gradient background -->
  {
    !section.backgroundImage && (
      <div class="absolute inset-0 -z-10">
        <div class="absolute inset-0 bg-gradient-to-r from-primary/10 to-accent/10"></div>
      </div>
    )
  }

  <div class="mx-auto max-w-4xl space-y-8 text-center relative z-10">
    <!-- Headline -->
    <h2 class="text-4xl font-bold leading-tight tracking-tight sm:text-5xl">
      {section.headline}
    </h2>

    <!-- Description (Optional) -->
    {section.description && (
      <p class="mx-auto max-w-2xl text-lg text-muted-foreground leading-relaxed">
        {section.description}
      </p>
    )}

    <!-- CTA Buttons -->
    <div class="flex flex-col gap-4 sm:flex-row sm:justify-center pt-4">
      <!-- Primary CTA -->
      {section.primaryCtaText && section.primaryCtaLink && (
        <a href={section.primaryCtaLink} class="inline-block">
          <Button
            size="lg"
            className="h-12 px-8 text-lg font-semibold"
          >
            {section.primaryCtaText}
            <span class="ml-2">â†’</span>
          </Button>
        </a>
      )}

      <!-- Secondary CTA (Optional) -->
      {section.secondaryCtaText && section.secondaryCtaLink && (
        <a href={section.secondaryCtaLink} class="inline-block">
          <Button
            size="lg"
            variant="outline"
            className="h-12 px-8 text-lg font-semibold"
          >
            {section.secondaryCtaText}
          </Button>
        </a>
      )}
    </div>
  </div>
</section>
