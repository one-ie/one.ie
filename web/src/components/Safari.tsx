import type { ComponentProps } from "react";

type SafariMode = "default" | "simple";

export interface SafariProps extends ComponentProps<"svg"> {
	url?: string;
	imageSrc?: string;
	videoSrc?: string;
	width?: number;
	height?: number;
	mode?: SafariMode;
}

export function Safari({
	imageSrc,
	videoSrc,
	url,
	width = 1203,
	height = 753,
	mode = "default",
	...props
}: SafariProps) {
	return (
		<svg
			width={width}
			height={height}
			viewBox={`0 0 ${width} ${height}`}
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
			{...props}
		>
			<g clipPath="url(#path0)" filter="url(#shadow)">
				<path
					d="M0 52H1202V741C1202 747.627 1196.63 753 1190 753H12C5.37258 753 0 747.627 0 741V52Z"
					className="fill-[#E5E5E5] dark:fill-[#404040]"
				/>
				<path
					fillRule="evenodd"
					clipRule="evenodd"
					d="M0 12C0 5.37258 5.37258 0 12 0H1190C1196.63 0 1202 5.37258 1202 12V52H0L0 12Z"
					className="fill-[#E5E5E5] dark:fill-[#404040]"
				/>
				<path
					fillRule="evenodd"
					clipRule="evenodd"
					d="M1.06738 12C1.06738 5.92487 5.99225 1 12.0674 1H1189.93C1196.01 1 1200.93 5.92487 1200.93 12V51H1.06738V12Z"
					className="fill-white dark:fill-[#262626]"
				/>
				<circle
					cx="20"
					cy="25"
					r="6"
					className="fill-[#E5E5E5] dark:fill-[#404040]"
				/>
				<circle
					cx="40"
					cy="25"
					r="6"
					className="fill-[#E5E5E5] dark:fill-[#404040]"
				/>
				<circle
					cx="60"
					cy="25"
					r="6"
					className="fill-[#E5E5E5] dark:fill-[#404040]"
				/>
				<path
					d="M286 17C286 13.6863 288.686 11 292 11H946C949.314 11 952 13.6863 952 17V35C952 38.3137 949.314 41 946 41H292C288.686 41 286 38.3137 286 35V17Z"
					className="fill-[#E5E5E5] dark:fill-[#404040]"
				/>
				<g className="mix-blend-luminosity">
					<path
						d="M566.269 32.0852H572.426C573.277 32.0852 573.696 31.6663 573.696 30.7395V25.9851C573.696 25.1472 573.353 24.7219 572.642 24.6521V23.0842C572.642 20.6721 571.036 19.5105 569.348 19.5105C567.659 19.5105 566.053 20.6721 566.053 23.0842V24.6711C565.393 24.7727 565 25.1917 565 25.9851V30.7395C565 31.6663 565.418 32.0852 566.269 32.0852ZM567.272 22.97C567.272 21.491 568.211 20.6785 569.348 20.6785C570.478 20.6785 571.423 21.491 571.423 22.97V24.6394L567.272 24.6458V22.97Z"
						fill="#A3A3A3"
					/>
				</g>
				<g className="mix-blend-luminosity">
					<text
						x="580"
						y="30"
						fill="#A3A3A3"
						fontSize="12"
						fontFamily="Arial, sans-serif"
					>
						{url}
					</text>
				</g>
				{mode === "default" ? (
					<>
						<g className="mix-blend-luminosity">
							<path
								d="M265.5 33.8984C265.641 33.8984 265.852 33.8516 266.047 33.7422C270.547 31.2969 272.109 30.1641 272.109 27.3203V21.4219C272.109 20.4844 271.742 20.1484 270.961 19.8125C270.094 19.4453 267.18 18.4297 266.328 18.1406C266.07 18.0547 265.766 18 265.5 18C265.234 18 264.93 18.0703 264.672 18.1406C263.82 18.3828 260.906 19.4531 260.039 19.8125C259.258 20.1406 258.891 20.4844 258.891 21.4219V27.3203C258.891 30.1641 260.461 31.2812 264.945 33.7422C265.148 33.8516 265.359 33.8984 265.5 33.8984ZM265.922 19.5781C266.945 19.9766 269.172 20.7656 270.344 21.1875C270.562 21.2656 270.617 21.3828 270.617 21.6641V27.0234C270.617 29.3125 269.469 29.9375 265.945 32.0625C265.727 32.1875 265.617 32.2344 265.508 32.2344V19.4844C265.617 19.4844 265.734 19.5156 265.922 19.5781Z"
								fill="#A3A3A3"
							/>
						</g>
						<g className="mix-blend-luminosity">
							<path
								d="M936.273 24.9766C936.5 24.9766 936.68 24.9062 936.82 24.7578L940.023 21.5312C940.195 21.3594 940.273 21.1719 940.273 20.9531C940.273 20.7422 940.188 20.5391 940.023 20.3828L936.82 17.125C936.68 16.9688 936.5 16.8906 936.273 16.8906C935.852 16.8906 935.516 17.2422 935.516 17.6719C935.516 17.8828 935.594 18.0547 935.727 18.2031L937.594 20.0312C937.227 19.9766 936.852 19.9453 936.477 19.9453C932.609 19.9453 929.516 23.0391 929.516 26.9141C929.516 30.7891 932.633 33.9062 936.5 33.9062C940.375 33.9062 943.484 30.7891 943.484 26.9141C943.484 26.4453 943.156 26.1094 942.688 26.1094C942.234 26.1094 941.93 26.4453 941.93 26.9141C941.93 29.9297 939.516 32.3516 936.5 32.3516C933.492 32.3516 931.07 29.9297 931.07 26.9141C931.07 23.875 933.469 21.4688 936.477 21.4688C936.984 21.4688 937.453 21.5078 937.867 21.5781L935.734 23.6875C935.594 23.8281 935.516 24 935.516 24.2109C935.516 24.6406 935.852 24.9766 936.273 24.9766Z"
								fill="#A3A3A3"
							/>
						</g>
						<g className="mix-blend-luminosity">
							<path
								d="M1150 33.0156C1150.49 33.0156 1150.89 32.6094 1150.89 32.1484V27.2578H1155.66C1156.13 27.2578 1156.54 26.8594 1156.54 26.3672C1156.54 25.8828 1156.13 25.4766 1155.66 25.4766H1150.89V20.5859C1150.89 20.1172 1150.49 19.7188 1150 19.7188C1149.52 19.7188 1149.11 20.1172 1149.11 20.5859V25.4766H1144.34C1143.88 25.4766 1143.46 25.8828 1143.46 26.3672C1143.46 26.8594 1143.88 27.2578 1144.34 27.2578H1149.11V32.1484C1149.11 32.6094 1149.52 33.0156 1150 33.0156Z"
								fill="#A3A3A3"
							/>
						</g>
						<g className="mix-blend-luminosity">
							<path
								d="M1165.8 31.0703H1167.23V32.375C1167.23 34.0547 1168.12 34.9219 1169.81 34.9219H1178.2C1179.89 34.9219 1180.77 34.0547 1180.77 32.3828V24.0469C1180.77 22.375 1179.89 21.5 1178.2 21.5H1176.77V20.2578C1176.77 18.5859 1175.88 17.7109 1174.19 17.7109H1165.8C1164.1 17.7109 1163.23 18.5781 1163.23 20.2578V28.5234C1163.23 30.1953 1164.1 31.0703 1165.8 31.0703ZM1165.9 29.5078C1165.18 29.5078 1164.78 29.1328 1164.78 28.3828V20.3984C1164.78 19.6406 1165.18 19.2656 1165.9 19.2656H1174.09C1174.8 19.2656 1175.2 19.6406 1175.2 20.3984V21.5H1169.81C1168.12 21.5 1167.23 22.375 1167.23 24.0469V29.5078H1165.9ZM1169.91 33.3672C1169.19 33.3672 1168.8 32.9922 1168.8 32.2422V24.1875C1168.8 23.4297 1169.19 23.0625 1169.91 23.0625H1178.1C1178.81 23.0625 1179.21 23.4297 1179.21 24.1875V32.2422C1179.21 32.9922 1178.81 33.3672 1178.1 33.3672H1169.91Z"
								fill="#A3A3A3"
							/>
						</g>
						<g className="mix-blend-luminosity">
							<path
								d="M1115.51 28.4141C1115.91 28.4141 1116.24 28.0859 1116.24 27.6953V19.8359L1116.18 18.6797L1116.66 19.25L1117.75 20.4141C1117.88 20.5547 1118.06 20.625 1118.24 20.625C1118.6 20.625 1118.9 20.3672 1118.9 20C1118.9 19.8047 1118.82 19.6641 1118.69 19.5312L1116.06 17.0078C1115.88 16.8203 1115.7 16.7578 1115.51 16.7578C1115.32 16.7578 1115.14 16.8203 1114.95 17.0078L1112.33 19.5312C1112.2 19.6641 1112.12 19.8047 1112.12 20C1112.12 20.3672 1112.41 20.625 1112.77 20.625C1112.95 20.625 1113.14 20.5547 1113.27 20.4141L1114.35 19.25L1114.84 18.6719L1114.78 19.8359V27.6953C1114.78 28.0859 1115.11 28.4141 1115.51 28.4141ZM1111 34.6562H1120C1121.7 34.6562 1122.57 33.7812 1122.57 32.1094V24.4297C1122.57 22.7578 1121.7 21.8828 1120 21.8828H1117.89V23.4375H1119.9C1120.61 23.4375 1121.02 23.8125 1121.02 24.5625V31.9688C1121.02 32.7188 1120.61 33.0938 1119.9 33.0938H1111.1C1110.38 33.0938 1109.98 32.7188 1109.98 31.9688V24.5625C1109.98 23.8125 1110.38 23.4375 1111.1 23.4375H1113.13V21.8828H1111C1109.31 21.8828 1108.43 22.75 1108.43 24.4297V32.1094C1108.43 33.7812 1109.31 34.6562 1111 34.6562Z"
								fill="#A3A3A3"
							/>
						</g>
						<g className="mix-blend-luminosity">
							<path
								d="M80.5703 33.6016H93.938C95.633 33.6016 96.516 32.7266 96.516 31.0547V21.5469C96.516 19.875 95.633 19 93.938 19H80.5703C78.8828 19 78 19.8672 78 21.5469V31.0547C78 32.7266 78.8828 33.6016 80.5703 33.6016ZM80.6719 32.0469C79.9531 32.0469 79.5547 31.6719 79.5547 30.9141V21.6875C79.5547 20.9297 79.9531 20.5547 80.6719 20.5547H84.234V32.0469H80.6719ZM93.836 20.5547C94.555 20.5547 94.953 20.9297 94.953 21.6875V30.9141C94.953 31.6719 94.555 32.0469 93.836 32.0469H85.711V20.5547H93.836ZM82.703 23.4141C82.984 23.4141 83.219 23.1719 83.219 22.9062C83.219 22.6406 82.984 22.4062 82.703 22.4062H81.102C80.8203 22.4062 80.5859 22.6406 80.5859 22.9062C80.5859 23.1719 80.8203 23.4141 81.102 23.4141H82.703ZM82.703 25.5156C82.984 25.5156 83.219 25.2812 83.219 25.0078C83.219 24.7422 82.984 24.5078 82.703 24.5078H81.102C80.8203 24.5078 80.5859 24.7422 80.5859 25.0078C80.5859 25.2812 80.8203 25.5156 81.102 25.5156H82.703ZM82.703 27.6094C82.984 27.6094 83.219 27.3828 83.219 27.1094C83.219 26.8438 82.984 26.6172 82.703 26.6172H81.102C80.8203 26.6172 80.5859 26.8438 80.5859 27.1094C80.5859 27.3828 80.8203 27.6094 81.102 27.6094H82.703Z"
								fill="#A3A3A3"
							/>
						</g>
						<g className="mix-blend-luminosity">
							<path
								d="M124.914 32.5938C125.094 32.7656 125.312 32.8594 125.562 32.8594C126.086 32.8594 126.492 32.4531 126.492 31.9375C126.492 31.6797 126.391 31.4453 126.211 31.2656L120.742 25.9219L126.211 20.5938C126.391 20.4141 126.492 20.1719 126.492 19.9219C126.492 19.4062 126.086 19 125.562 19C125.312 19 125.094 19.0938 124.922 19.2656L118.844 25.2031C118.625 25.4062 118.516 25.6562 118.516 25.9297C118.516 26.2031 118.625 26.4375 118.836 26.6484L124.914 32.5938Z"
								fill="#A3A3A3"
							/>
						</g>
						<g className="mix-blend-luminosity">
							<path
								d="M149.422 32.8594C149.68 32.8594 149.891 32.7656 150.07 32.5938L156.148 26.6562C156.359 26.4375 156.469 26.2109 156.469 25.9297C156.469 25.6562 156.367 25.4141 156.148 25.2109L150.07 19.2656C149.891 19.0938 149.68 19 149.422 19C148.898 19 148.492 19.4062 148.492 19.9219C148.492 20.1719 148.602 20.4141 148.773 20.5938L154.25 25.9375L148.773 31.2656C148.594 31.4531 148.492 31.6797 148.492 31.9375C148.492 32.4531 148.898 32.8594 149.422 32.8594Z"
								fill="#A3A3A3"
							/>
						</g>
					</>
				) : null}
				{/* Default background when no image/video */}
				{!imageSrc && !videoSrc && (
					<rect
						x="1"
						y="52"
						width={width - 2}
						height={height - 52}
						fill="#f8f9fa"
						className="dark:fill-[#1a1a1a]"
						clipPath="url(#roundedBottom)"
					/>
				)}
				{imageSrc && (
					<image
						href={imageSrc}
						width={width - 2}
						height={height - 52}
						x="1"
						y="52"
						preserveAspectRatio="xMidYMid slice"
						clipPath="url(#roundedBottom)"
					/>
				)}
				{videoSrc && (
					<foreignObject
						x="1"
						y="52"
						width={width - 2}
						height={height - 52}
						preserveAspectRatio="xMidYMid slice"
						clipPath="url(#roundedBottom)"
					>
						<video
							className="size-full overflow-hidden object-cover"
							src={videoSrc}
							autoPlay
							loop
							muted
							playsInline
							controls
						/>
					</foreignObject>
				)}
			</g>
			{/* Border stroke */}
			<rect
				x="0.5"
				y="0.5"
				width={width - 1}
				height={height - 1}
				rx="12"
				ry="12"
				fill="none"
				stroke="currentColor"
				strokeWidth="1"
				className="stroke-gray-300 dark:stroke-gray-600"
			/>
			<defs>
				{/* Drop shadow filter */}
				<filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
					<feGaussianBlur in="SourceAlpha" stdDeviation="8" />
					<feOffset dx="0" dy="4" result="offsetblur" />
					<feComponentTransfer>
						<feFuncA type="linear" slope="0.2" />
					</feComponentTransfer>
					<feMerge>
						<feMergeNode />
						<feMergeNode in="SourceGraphic" />
					</feMerge>
				</filter>
				<clipPath id="path0">
					<rect width={width} height={height} rx="12" fill="white" />
				</clipPath>
				<clipPath id="roundedBottom">
					<path
						d={`M1 52H${width - 1}V${height - 12}C${width - 1} ${height - 5.925} ${width - 6.08} ${height} ${width - 12} ${height}H12C5.92486 ${height} 1 ${height - 5.925} 1 ${height - 12}V52Z`}
						fill="white"
					/>
				</clipPath>
			</defs>
		</svg>
	);
}
